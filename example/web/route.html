<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
    <style type="text/css">
        .style1
        {
            text-align: justify;
            font-size: 10.5000pt;
            font-family: "Times New Roman";
            margin: 0pt;
        }
    </style>
</head>
<body>
    <br />
    路由组件
    <br />
    <a target="_blank" href="ct/123">ct/123 点此地址打开，实际访问地址是route.aspx?id=123</a>
    <br />
    <p>
        &nbsp;</p>
    <p>
        &nbsp;</p>
    <p>
        使用此组件得先引用:</p>
    <p class="style1">
        <span style="mso-spacerun: 'yes'; color: rgb(0,0,255); font-size: 9.5000pt; font-family: '新宋体';">
            DoNet.Common.Web.dll</span></p>
    <p>
        再在web.config中配置如下节点:</p>
    <p class="style1">
        <span style="mso-spacerun: 'yes'; color: rgb(0,0,255); font-size: 9.5000pt; font-family: '新宋体';">
            &nbsp;&nbsp;&nbsp;&nbsp; &lt;</span><span style="mso-spacerun: 'yes'; color: rgb(163,21,21);
                font-size: 9.5000pt; font-family: '新宋体';">system.web</span><span style="mso-spacerun: 'yes';
                    color: rgb(0,0,255); font-size: 9.5000pt; font-family: '新宋体';">&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
    <p class="style1">
        <span style="mso-spacerun: 'yes'; color: rgb(0,0,255); font-size: 9.5000pt; font-family: '新宋体';">
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span style="mso-spacerun: 'yes';
                color: rgb(163,21,21); font-size: 9.5000pt; font-family: '新宋体';">httpModules</span><span
                    style="mso-spacerun: 'yes'; color: rgb(0,0,255); font-size: 9.5000pt; font-family: '新宋体';">&gt;</span><span
                        style="mso-spacerun: 'yes'; font-size: 9.5000pt; font-family: '新宋体';"><o:p></o:p></span></p>
    <p class="style1">
        <span style="mso-spacerun: 'yes'; color: rgb(0,0,255); font-size: 9.5000pt; font-family: '新宋体';">
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span style="mso-spacerun: 'yes';
                color: rgb(163,21,21); font-size: 9.5000pt; font-family: '新宋体';">add</span><span
                    style="mso-spacerun: 'yes'; color: rgb(0,0,255); font-size: 9.5000pt; font-family: '新宋体';">&nbsp;</span><span
                        style="mso-spacerun: 'yes'; color: rgb(255,0,0); font-size: 9.5000pt; font-family: '新宋体';">name</span><span
                            style="mso-spacerun: 'yes'; color: rgb(0,0,255); font-size: 9.5000pt; font-family: '新宋体';">=</span><span
                                style="mso-spacerun: 'yes'; font-size: 9.5000pt; font-family: '新宋体';">&quot;</span><span
                                    style="mso-spacerun: 'yes'; color: rgb(0,0,255); font-size: 9.5000pt; font-family: '新宋体';">RouteModule</span><span
                                        style="mso-spacerun: 'yes'; font-size: 9.5000pt; font-family: '新宋体';">&quot;</span><span
                                            style="mso-spacerun: 'yes'; color: rgb(0,0,255); font-size: 9.5000pt; font-family: '新宋体';">&nbsp;</span><span
                                                style="mso-spacerun: 'yes'; color: rgb(255,0,0); font-size: 9.5000pt; font-family: '新宋体';">type</span><span
                                                    style="mso-spacerun: 'yes'; color: rgb(0,0,255); font-size: 9.5000pt; font-family: '新宋体';">=</span><span
                                                        style="mso-spacerun: 'yes'; font-size: 9.5000pt; font-family: '新宋体';">&quot;</span><span
                                                            style="mso-spacerun: 'yes'; color: rgb(0,0,255); font-size: 9.5000pt; font-family: '新宋体';">DoNet.Common.Web.Route.RouteModule,DoNet.Common.Web</span><span
                                                                style="mso-spacerun: 'yes'; font-size: 9.5000pt; font-family: '新宋体';">&quot;</span><span
                                                                    style="mso-spacerun: 'yes'; color: rgb(0,0,255); font-size: 9.5000pt; font-family: '新宋体';">/&gt;</span><span
                                                                        style="mso-spacerun: 'yes'; font-size: 9.5000pt; font-family: '新宋体';"><o:p></o:p></span></p>
    <p class="style1">
        <span style="mso-spacerun: 'yes'; color: rgb(0,0,255); font-size: 9.5000pt; font-family: '新宋体';">
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/</span><span style="mso-spacerun: 'yes';
                color: rgb(163,21,21); font-size: 9.5000pt; font-family: '新宋体';">httpModules</span><span
                    style="mso-spacerun: 'yes'; color: rgb(0,0,255); font-size: 9.5000pt; font-family: '新宋体';">&gt;</span><span
                        style="mso-spacerun: 'yes'; font-size: 9.5000pt; font-family: '新宋体';"><o:p></o:p></span></p>
    <p class="style1">
        <span style="mso-spacerun: 'yes'; color: rgb(0,0,255); font-size: 9.5000pt; font-family: '新宋体';">
            &nbsp;&nbsp;&nbsp;&nbsp;&lt;/</span><span style="mso-spacerun: 'yes'; color: rgb(163,21,21);
                font-size: 9.5000pt; font-family: '新宋体';">system.web</span><span style="mso-spacerun: 'yes';
                    color: rgb(0,0,255); font-size: 9.5000pt; font-family: '新宋体';">&gt;</span><span style="mso-spacerun: 'yes';
                        font-size: 9.5000pt; font-family: '新宋体';"><o:p></o:p></span></p>
    <p>
        &nbsp;</p>
    <p>
        然后在网站根路径下创建一个配置文件:route.config</p>
    <p>
        配置文件如下：</p>
    <p class="style1">
        <span style="mso-spacerun: 'yes'; color: rgb(0,0,255); font-size: 9.5000pt; font-family: '新宋体';">
            &lt;?</span><span style="mso-spacerun: 'yes'; color: rgb(163,21,21); font-size: 9.5000pt;
                font-family: '新宋体';">xml</span><span style="mso-spacerun: 'yes'; color: rgb(0,0,255);
                    font-size: 9.5000pt; font-family: '新宋体';">&nbsp;</span><span style="mso-spacerun: 'yes';
                        color: rgb(255,0,0); font-size: 9.5000pt; font-family: '新宋体';">version</span><span
                            style="mso-spacerun: 'yes'; color: rgb(0,0,255); font-size: 9.5000pt; font-family: '新宋体';">=</span><span
                                style="mso-spacerun: 'yes'; font-size: 9.5000pt; font-family: '新宋体';">&quot;</span><span
                                    style="mso-spacerun: 'yes'; color: rgb(0,0,255); font-size: 9.5000pt; font-family: '新宋体';">1.0</span><span
                                        style="mso-spacerun: 'yes'; font-size: 9.5000pt; font-family: '新宋体';">&quot;</span><span
                                            style="mso-spacerun: 'yes'; color: rgb(0,0,255); font-size: 9.5000pt; font-family: '新宋体';">&nbsp;</span><span
                                                style="mso-spacerun: 'yes'; color: rgb(255,0,0); font-size: 9.5000pt; font-family: '新宋体';">encoding</span><span
                                                    style="mso-spacerun: 'yes'; color: rgb(0,0,255); font-size: 9.5000pt; font-family: '新宋体';">=</span><span
                                                        style="mso-spacerun: 'yes'; font-size: 9.5000pt; font-family: '新宋体';">&quot;</span><span
                                                            style="mso-spacerun: 'yes'; color: rgb(0,0,255); font-size: 9.5000pt; font-family: '新宋体';">utf-8</span><span
                                                                style="mso-spacerun: 'yes'; font-size: 9.5000pt; font-family: '新宋体';">&quot;</span><span
                                                                    style="mso-spacerun: 'yes'; color: rgb(0,0,255); font-size: 9.5000pt; font-family: '新宋体';">&nbsp;?&gt;</span><span
                                                                        style="mso-spacerun: 'yes'; font-size: 9.5000pt; font-family: '新宋体';"><o:p></o:p></span></p>
    <p class="style1">
        <span style="mso-spacerun: 'yes'; color: rgb(0,0,255); font-size: 9.5000pt; font-family: '新宋体';">
            &lt;</span><span style="mso-spacerun: 'yes'; color: rgb(163,21,21); font-size: 9.5000pt;
                font-family: '新宋体';">Items</span><span style="mso-spacerun: 'yes'; color: rgb(0,0,255);
                    font-size: 9.5000pt; font-family: '新宋体';">&gt;</span><span style="mso-spacerun: 'yes';
                        font-size: 9.5000pt; font-family: '新宋体';"><o:p></o:p></span></p>
    <p class="style1">
        <span style="mso-spacerun: 'yes'; color: rgb(0,0,255); font-size: 9.5000pt; font-family: '新宋体';">
            &nbsp;&nbsp;&lt;</span><span style="mso-spacerun: 'yes'; color: rgb(163,21,21); font-size: 9.5000pt;
                font-family: '新宋体';">Item</span><span style="mso-spacerun: 'yes'; color: rgb(0,0,255);
                    font-size: 9.5000pt; font-family: '新宋体';">&gt;</span><span style="mso-spacerun: 'yes';
                        font-size: 9.5000pt; font-family: '新宋体';"><o:p></o:p></span></p>
    <p class="style1">
        <span style="mso-spacerun: 'yes'; color: rgb(0,0,255); font-size: 9.5000pt; font-family: '新宋体';">
            &nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span style="mso-spacerun: 'yes'; color: rgb(163,21,21);
                font-size: 9.5000pt; font-family: '新宋体';">Reg</span><span style="mso-spacerun: 'yes';
                    color: rgb(0,0,255); font-size: 9.5000pt; font-family: '新宋体';">&nbsp;</span><span
                        style="mso-spacerun: 'yes'; color: rgb(255,0,0); font-size: 9.5000pt; font-family: '新宋体';">value</span><span
                            style="mso-spacerun: 'yes'; color: rgb(0,0,255); font-size: 9.5000pt; font-family: '新宋体';">=</span><span
                                style="mso-spacerun: 'yes'; font-size: 9.5000pt; font-family: '新宋体';">&quot;</span><span
                                    style="mso-spacerun: 'yes'; color: rgb(0,0,255); font-size: 9.5000pt; font-family: '新宋体';">/ct/(?{id}\d+)</span><span
                                        style="mso-spacerun: 'yes'; font-size: 9.5000pt; font-family: '新宋体';">&quot;</span><span
                                            style="mso-spacerun: 'yes'; color: rgb(0,0,255); font-size: 9.5000pt; font-family: '新宋体';">&nbsp;/&gt;</span><span
                                                style="mso-spacerun: 'yes'; font-size: 9.5000pt; font-family: '新宋体';"><o:p></o:p></span></p>
    <p class="style1">
        <span style="mso-spacerun: 'yes'; color: rgb(0,0,255); font-size: 9.5000pt; font-family: '新宋体';">
            &nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span style="mso-spacerun: 'yes'; color: rgb(163,21,21);
                font-size: 9.5000pt; font-family: '新宋体';">Url</span><span style="mso-spacerun: 'yes';
                    color: rgb(0,0,255); font-size: 9.5000pt; font-family: '新宋体';">&nbsp;</span><span
                        style="mso-spacerun: 'yes'; color: rgb(255,0,0); font-size: 9.5000pt; font-family: '新宋体';">value</span><span
                            style="mso-spacerun: 'yes'; color: rgb(0,0,255); font-size: 9.5000pt; font-family: '新宋体';">=</span><span
                                style="mso-spacerun: 'yes'; font-size: 9.5000pt; font-family: '新宋体';">&quot;</span><span
                                    style="mso-spacerun: 'yes'; color: rgb(0,0,255); font-size: 9.5000pt; font-family: '新宋体';">~/index.aspx?id={id}</span><span
                                        style="mso-spacerun: 'yes'; font-size: 9.5000pt; font-family: '新宋体';">&quot;</span><span
                                            style="mso-spacerun: 'yes'; color: rgb(0,0,255); font-size: 9.5000pt; font-family: '新宋体';">&nbsp;/&gt;</span><span
                                                style="mso-spacerun: 'yes'; font-size: 9.5000pt; font-family: '新宋体';"><o:p></o:p></span></p>
    <p class="style1">
        <span style="mso-spacerun: 'yes'; color: rgb(0,0,255); font-size: 9.5000pt; font-family: '新宋体';">
            &nbsp;&nbsp;&lt;/</span><span style="mso-spacerun: 'yes'; color: rgb(163,21,21);
                font-size: 9.5000pt; font-family: '新宋体';">Item</span><span style="mso-spacerun: 'yes';
                    color: rgb(0,0,255); font-size: 9.5000pt; font-family: '新宋体';">&gt;</span><span style="mso-spacerun: 'yes';
                        font-size: 9.5000pt; font-family: '新宋体';"><o:p></o:p></span></p>
    <p class="style1">
        <span style="mso-spacerun: 'yes'; color: rgb(0,0,255); font-size: 9.5000pt; font-family: '新宋体';">
            &lt;/</span><span style="mso-spacerun: 'yes'; color: rgb(163,21,21); font-size: 9.5000pt;
                font-family: '新宋体';">Items</span><span style="mso-spacerun: 'yes'; color: rgb(0,0,255);
                    font-size: 9.5000pt; font-family: '新宋体';">&gt;<o:p></o:p></span></p>
    <p>
        &nbsp;</p>
    <p>
        每一个匹配都是一个item项，reg为匹配的正则表达式。url为转到的地址</p>
    <p>
        /ct/(?{id}\d+)表示当用户访问一个如：www.jm47/ct/123的路径时。获取123到变量{id}中</p>
    <p>
        然后再根据url的配置~/index.aspx?id={id}替换其中的{id}变量为123.所以实际访问的地址为~/index.aspx?id=123</p>
    <p>
        &nbsp;</p>
    <p>
        但用户看到的却是/ct/123达到隐藏地址的目的</p>
</body>
</html>
